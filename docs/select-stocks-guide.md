# 精准选股模块使用指南

## 功能概述

精准选股模块专注于从**热门板块**中筛选**成长型大牛股**，帮助你快速找到最具潜力的投资标的。

### 核心特点

- ✅ **热门板块优先** - 只扫描近3日/5日资金流入的热门板块
- ✅ **成长股筛选** - 市值50-1000亿，PE<100，成长性好
- ✅ **龙头策略** - 每个板块只选1-2只龙头股
- ✅ **排除ST** - 自动排除ST、*ST等风险股
- ✅ **详细理由** - 提供技术面、板块、基本面、催化剂等买入理由

---

## 快速开始

### 基础用法

```bash
# 默认配置：最低60分，返回10只，近3日热门板块
python select_stocks.py
```

### 自定义参数

```bash
# 提高标准：最低70分
python select_stocks.py --min-score 70

# 返回更多：20只股票
python select_stocks.py --top 20

# 近5日热门板块
python select_stocks.py --days 5

# 每个板块选2只龙头
python select_stocks.py --stocks-per-sector 2

# 指定输出文件名
python select_stocks.py --output my_stocks.md

# 组合使用
python select_stocks.py --min-score 70 --top 20 --days 5 --stocks-per-sector 2
```

---

## 选股标准

### 1. 板块筛选

**热门板块识别：**
- 近3日/5日涨幅前10的板块
- 资金持续流入
- 市场关注度高

**板块分类：**
- 强势领涨：涨幅 ≥ 5%
- 持续上涨：涨幅 3-5%
- 温和上涨：涨幅 1-3%

---

### 2. 技术面标准（必须满足）

| 指标 | 标准 | 说明 |
|-----|------|------|
| **均线排列** | MA5 > MA10 > MA20 | 多头排列 |
| **乖离率** | < 5% | 不追高 |
| **评分** | ≥ 60分 | 综合评分 |
| **趋势** | 强势多头/多头排列 | 趋势向上 |

---

### 3. 基本面标准（成长股）

| 指标 | 标准 | 说明 |
|-----|------|------|
| **市值** | 50-1000亿 | 排除小盘股和超大盘股 |
| **市盈率** | < 100 | 估值不能过高 |
| **ROE** | > 15% | 盈利能力强（如有数据） |
| **业绩增长** | > 30% | 高成长性（如有数据） |

---

### 4. 风险控制

- ❌ **排除ST股票** - 自动过滤ST、*ST
- ❌ **排除超高估值** - PE > 100的不选
- ❌ **排除小盘股** - 市值 < 50亿的不选
- ❌ **排除超大盘股** - 市值 > 1000亿的不选

---

## 输出说明

### 1. 控制台输出

```
[1/5] 获取近3日热门板块...
  1. 新能源: +6.50% - 强势领涨，资金大幅流入
  2. 半导体: +5.20% - 强势领涨，资金大幅流入
  ...

[2/5] 从热门板块中筛选股票...
  [1/10] 分析板块: 新能源 (+6.50%)
    ✓ 宁德时代(300750): 82分
  [2/10] 分析板块: 半导体 (+5.20%)
    ✓ 中芯国际(688981): 78分
  ...

[3/5] 全局排序...

[4/5] 筛选完成，共选出 10 只股票

[5/5] 结果已保存到: selected_stocks_20260126.md

选股摘要
================================================================================
排名     代码        名称          评分      板块             信号
--------------------------------------------------------------------------------
1      300750     宁德时代        82       新能源           买入
2      688981     中芯国际        78       半导体           买入
...
```

---

### 2. Markdown 文件

生成的 Markdown 文件包含：

#### 📊 选股标准
- 技术面标准
- 基本面标准
- 板块要求
- 风险控制

#### 🎯 推荐股票

每只股票包含：

```markdown
### 1. 宁德时代（300750）

**综合评分：** 82分 | **信号：** 买入 | **趋势：** 强势多头

#### 📋 基本信息

| 项目 | 数据 |
|------|------|
| 所属板块 | 新能源 |
| 市值 | 850亿元 |
| 市盈率 | 45.5 |
| 乖离率 | +1.2% |

#### 💡 买入理由

**技术面：** 强势多头排列，均线发散上行；价格贴近MA5（乖离率1.2%）；MACD金叉，趋势向上

**板块逻辑：** 新能源板块强势领涨，资金大幅流入

**基本面：** 成长股（市值850亿）；估值适中（PE 45.5）

**催化剂：** 政策持续利好，行业景气度高；MACD金叉，趋势确认
```

#### 📝 自选股列表

```
300750,688981,600519,...
```

可直接复制到 `.env` 文件的 `STOCK_LIST` 中。

---

## 使用场景

### 场景1：周末选股

```bash
# 周末复盘，选出下周重点关注的股票
python select_stocks.py --days 5 --top 20 --stocks-per-sector 2
```

**说明：**
- 近5日热门板块（更稳定）
- 返回20只股票（更多选择）
- 每板块2只（分散风险）

---

### 场景2：快速选股

```bash
# 盘中快速选股，找当前最热门的标的
python select_stocks.py --days 3 --top 10
```

**说明：**
- 近3日热门板块（更敏感）
- 返回10只股票（精选）
- 每板块1只龙头（集中火力）

---

### 场景3：高标准选股

```bash
# 提高标准，只选最优质的股票
python select_stocks.py --min-score 70 --top 10 --days 5
```

**说明：**
- 最低70分（更严格）
- 近5日热门板块（更稳定）
- 只选最优质的10只

---

## 买入建议

### 1. 查看选股结果

打开生成的 Markdown 文件，仔细阅读每只股票的：
- 基本信息
- 买入理由
- 技术面分析
- 板块逻辑
- 催化剂

---

### 2. 二次确认

在买入前，建议再次确认：

✅ **技术形态**
- 是否仍在多头排列
- 乖离率是否仍 < 5%
- 是否有破位风险

✅ **消息面**
- 是否有减持公告
- 是否有重大利空
- 是否有解禁压力

✅ **市场环境**
- 大盘是否配合
- 板块是否仍然强势
- 资金是否持续流入

---

### 3. 分批建仓

建议分批买入，降低风险：

**第一批（30%）：**
- 在当前价位试探性买入
- 观察市场反应

**第二批（30%）：**
- 回踩MA5获得支撑后加仓
- 确认趋势有效

**第三批（40%）：**
- 突破前高后加仓
- 趋势确认后重仓

---

### 4. 止损设置

**技术止损：**
- 跌破MA20：趋势破坏
- 跌破买入价5-8%：硬性止损

**时间止损：**
- 持仓2周未盈利：考虑换股

**消息止损：**
- 重大利空：立即止损

---

## 注意事项

### 1. 数据时效性

- 选股结果基于当前数据
- 市场变化快，建议每日更新
- 买入前务必再次确认

---

### 2. 板块轮动

- 热门板块会轮动
- 不要追涨已经涨太多的板块
- 关注新崛起的板块

---

### 3. 仓位管理

**建议仓位：**
- 单股：不超过30%
- 同板块：不超过50%
- 总仓位：根据市场环境调整

**市场环境：**
- 强市：60-80%
- 震荡市：40-60%
- 弱市：20-40%

---

### 4. 风险提示

⚠️ **本选股结果仅供参考，不构成投资建议**

- 股市有风险，投资需谨慎
- 建议结合个人风险承受能力
- 严格执行止损纪律
- 不要盲目追高
- 不要重仓单股

---

## 常见问题

### Q1: 为什么没有找到股票？

**可能原因：**
1. 标准太严格（降低 `--min-score`）
2. 市场整体弱势（等待市场转强）
3. 热门板块股票不符合成长股标准

**解决方法：**
```bash
# 降低标准
python select_stocks.py --min-score 55

# 增加每板块股票数
python select_stocks.py --stocks-per-sector 2
```

---

### Q2: 如何选择 days 参数？

**近3日（--days 3）：**
- 优点：更敏感，能抓住最新热点
- 缺点：可能不够稳定
- 适合：短线交易、快速轮动

**近5日（--days 5）：**
- 优点：更稳定，趋势更明确
- 缺点：可能错过最新热点
- 适合：中短线交易、稳健操作

---

### Q3: 选出的股票太多怎么办？

**优先级排序：**
1. 评分最高的（≥ 80分）
2. 板块最强的（涨幅 > 5%）
3. 催化剂最明确的
4. 技术形态最好的（回踩MA5）

**建议：**
- 重点关注前5只
- 其余作为备选

---

### Q4: 如何与主程序配合使用？

**步骤：**

1. **选股**
```bash
python select_stocks.py --top 10
```

2. **复制股票代码**
打开生成的 Markdown 文件，复制自选股列表

3. **更新 .env**
```bash
STOCK_LIST=300750,688981,600519,...
```

4. **运行分析**
```bash
python main.py
```

5. **查看报告**
系统会自动推送详细的分析报告

---

## 进阶技巧

### 1. 结合市场环境

```bash
# 强市：适当放宽标准
python select_stocks.py --min-score 55 --top 15

# 弱市：提高标准
python select_stocks.py --min-score 70 --top 5
```

---

### 2. 板块轮动策略

```bash
# 每周选股一次
python select_stocks.py --days 5 --output weekly_stocks.md

# 观察板块变化
# 如果板块发生轮动，及时调整持仓
```

---

### 3. 龙头集中策略

```bash
# 只选每个板块的绝对龙头
python select_stocks.py --stocks-per-sector 1 --min-score 75
```

---

## 总结

精准选股模块帮助你：

✅ **节省时间** - 不用手动筛选5000+只股票
✅ **提高效率** - 只关注热门板块龙头
✅ **降低风险** - 自动排除ST和高风险股票
✅ **提供理由** - 详细的买入逻辑分析

**记住：**
> 选股是第一步，买点和仓位管理同样重要
> 严格执行纪律，不追高、不重仓、严止损

---

**相关文档：**
- [选股策略详解](stock-selection-strategy.md)
- [交易策略详解](trading-strategy.md)
- [市场环境过滤](market-filter.md)

---

**最后更新：** 2026-01-26
